#!/bin/bash

# â”€â”€â”€â”€â”€â”€ ðŸ§± Core Layout â”€â”€â”€â”€â”€â”€
yabai -m config layout           bsp
yabai -m config window_gap       8
yabai -m config top_padding      8
yabai -m config bottom_padding   8
yabai -m config left_padding     8
yabai -m config right_padding    8

# â”€â”€â”€â”€â”€â”€ â›” Apps to Float (Not Managed) â”€â”€â”€â”€â”€â”€
FLOATING_APPS=(
  "^Activity Monitor$"
  "^App Store$"
  "^Calculator$"
  "^Dictionary$"
  "^Finder$"
  "^System Information$"
  "^System Preferences$"
  "^System Settings$"
  "Software Update"
)

for app in "${FLOATING_APPS[@]}"; do
  yabai -m rule --add app="$app" manage=off
done

# â”€â”€â”€â”€â”€â”€ ðŸ§  Auto-Focus First Window After Space/Display Change â”€â”€â”€â”€â”€â”€

FOCUS_CMD='yabai -m window --focus $(yabai -m query --windows --space | jq ".[0].id")'

# Focus window after space change
yabai -m signal --add event=space_changed action="$FOCUS_CMD"

# Focus window after display change
yabai -m signal --add event=display_changed action="$FOCUS_CMD"
